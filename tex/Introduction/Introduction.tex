% =========================================================================== %
% Introduction
% =========================================================================== %

\ifx\wholebook\relax\else
  \documentclass[a4paper,10pt,twoside]{book}
  \input{../common}
  \pagestyle{headings}
  \graphicspath{{figures/} {../figures/}}
  \begin{document}
  \sloppy
\fi


% =========================================================================== %
\chapter{Introduction}

% --------------------------------------------------------------------------- %
\section{What is Eclipse Scout?}

\fbox{
  \parbox{12cm}{
    Section waiting for contribution (max 2'000 words)
	
    The focus of the first section should be on benefits of Scout.
	History should point to the 10 years of existence of Scout and previous technology transitions.
	Outlook should focus on values such as stability, dedication to grow the community and moving with best available technolgies.
  }
}

\noindent Existing Documentation
\begin{itemize}
  \item concept wiki \url{http://wiki.eclipse.org/Scout/Overview}
\end{itemize}

\subsection{Benefits of Scout}

\noindent Existing Documentation
\begin{itemize}
  \item concept wiki \url{http://wiki.eclipse.org/Scout/Overview/Why_You_Should_Use_Scout}
\end{itemize}

Eclipse Scout is a mature and open framework for modern, 
service oriented business applications.

With its multi-frontend support, Scout applications may run as desktop 
applications, in the web or on a mobile using a single codebase.

Scout substantially boosts developer productivity and is simple to learn.

User friendly applications are straight forward to implement with Scout’s 
comprehensive set of user interface components.

Completely based on Java/Eclipse, Scout Applications are easy to integrate 
in most IT environments.

\subsection{A short History}
needs text

\subsection{Outlook}
needs text

\newpage

% --------------------------------------------------------------------------- %
\section{What should I read?} 
\seclabel{whatshouldiread}

The text below provides guidelines on what to read (or what to skip) depending on your existing background.

We first address the needs of junior Java developers that like to learn more about developing enterprise applications.
Then, we suggest a list of sections relevant for software wizards that already have a solid understanding of the Eclipse platform, Java enterprise technolgies, and real world applications.
Finally, the information needs of IT managers are considered.

% ........................................................................... %
\subsection{I know some Java}

The good news first.
This book is written for you! 
No prior knowledge of the Eclipse Platform\footnote{Eclipse Platform: \url{http://wiki.eclipse.org/Platform}} is needed. 
We do not even assume that you have a meaningful understanding of the Java Enterprise Edition 
(Java EE)\footnote{Java Enterprise Edition: \url{http://en.wikipedia.org/wiki/Java_Platform,_Enterprise_Edition}}.
Of course, having prior experience in client server programming with Java is helpful.
It also helps having used the Eclipse IDE for Java development before --- please do not mistake the IDE with the Eclipse 
platform\footnote{By reading through the book you will learn that there is much more to the Eclipse platform than just the IDE}.
However, prior knowledge of Java EE and the Eclipse platform is not required for this book.

The ``bad'' news is, that writing Scout applications requires a solid understanding of Java.
To properly benefit from this book, we assume that you have been developing software for a year or more.
And you should have masterd the Java Standard Edition 
(Java SE)\footnote{Java Standard Edition: \url{http://en.wikipedia.org/wiki/Java_SE}} to a significant extent. 
To be more explicit, you are expected to be comfortable with all material required for the Java Programmer Level I 
Exam\footnote{Level I Exam: \url{docs.oracle.com/javase/tutorial/extra/certification/javase-7-programmer1.html}}
and most of the material required for 
Level II\footnote{Level II Exam: \url{docs.oracle.com/javase/tutorial/extra/certification/javase-7-programmer2.html}}.

As the focus of this book is on writing Scout applications and not on learning Java, Java EE, or the Eclipse platform, the necessary background material has been moved into corresponding appendices.
To get a more precise picture which parts of Java and Eclipse are important to Scout applications, consult the appendices listed below.

\begin{itemize}
  \item \appref{java_basics} highlighs relevant advanced Java SE concepts and necessary Java EE topics. 
        In addition, the appendix contains recommendations for introductory material as well as pointers to further reading regarding Java EE technology.
  \item \appref{eclipse_basics} provides a brief introduction for Eclipse concepts used in Scout. 
        This includes the OSGi/Equinox foundation as well as additional elements such as Eclipse plugins, feature and product files.
\end{itemize}

We now propose to start downloading and installing Scout as described in \appref{install_scout} and do some actual coding.
To do so, please continue with the ``Hello World'' example provided in \charef{helloworld}.
You can expect to complete this example in less than two hours including the necessary download and installation steps.
Afterwards, you might want to continue with the remaining material in ``Getting Started''. 
Working through the complete ``Getting Started'' should take no more than two days. 
This exercise will provide you with a broad overview of Eclipse Scout and enough hands-on material to decide how much Scout will help you with your current and future projects.

How you continue after ``Getting Started'' will depend on your current interests or your specific project. 
``The Frontend'' and ``The Backend'' walk you through the Scout application model covering the client, the server, and the necessary communication in the context of a typical business application.
``Developing Applications'' contains additional Scout features, relevant aspects for integrating Scout applications in an enterprise envrionment, and typical topics important to professional software development.

Once you work with the Scout framework on a regular basis, you might want to ask questions in the Scout 
forum\footnote{Eclipse Scout forum: \url{http://www.eclipse.org/forums/eclipse.scout}}.
When your question gets answered, please ask yourself if your initial problem could have been solved by better documentation.
In that case, you might want to help the Scout community by fixing or amending the Scout wiki pages\footnote{Eclipse Scout wiki: \url{http://wiki.eclipse.org/Scout}}.
Or this book. 
If you find a bug in Eclipse Scout that makes your life miserable you can report it. 
When your bug is fixed, you can test the fix.
To help speed up the bugfixing process you can contribute patches.
All of these actions will add to the healthy grow of the Scout community.
And this is exactly the topic of ``Contributing'', the last part of this book.

% ........................................................................... %
\subsection{I know tons of both Java and Eclipse}

This means that you are one of these software wizards that get easily bored.
You probably hate going through lengthy descriptions of widely known concepts.
In that case let us assume that you are prepared to spend two hours to grasp the scope of Eclipse Scout and get an impression of its strengths and limitations.

In that case you will not need to actually download, install, and code. 
Rather, it will suffice to flip through a couple of diagrams and screenshots, read about some central Scout concepts, and look at some code snippets provided in this book.
The list below suggests a sequence of sections to digest including a brief motivation for each one.

\begin{itemize}
  \item \prtref{getting_started} ``Getting Started'' 
      Provides you with the big picture. Skip the larger example in \charef{large_example}
  \item \charef{client_overview} ``Overview'' and \charef{client_modeling} ``Client Modeling''
      Get familiar with the Scout frontend architecture and client modeling makes Scout applications independent of any particular user interface technology
  \item \charef{fields} ``Form Fields'' and \charef{custom_fields} ``Custom Fields''
      Browse through the screensthos in \charef{fields} to get an impression over the form fields that are available out of the box. 
	  Look at the diagrams in \charef{custom_fields} to get an idea of how to extend the Scout framework with missing field types.
  \charef{server_overview} ``Overview'', \charef{services} Scout server
  % \item read overview and transaction management in backend
  % \item read application extensions to learn how scout applications can be properly modularized 
  % \item maybe check how to use your favorite logging framework with scout
  % \item glance at web and mobile application to learn how scout can use a single codebase to run an application on the desktop in the web, and on mobile devices
  % \item glance over the shocase sections in "integrating 3rd party" to see how scout applications integrate with other frameworks
  % \item flip though testing/profiling to convince yourself that developing scout applications is not different from developing other java/eclise applications	
\end{itemize}

% \begin{itemize}
  % \item read ''getting started'' but skip the larger example
  % \item read overview and client modeling in frontend 
  % \item flip though the form fields provided out of the box
  % \item maybe check custom fields to see how to add missing form fields
  % \item read overview and transaction management in backend
  % \item read application extensions to learn how scout applications can be properly modularized 
  % \item maybe check how to use your favorite logging framework with scout
  % \item glance at web and mobile application to learn how scout can use a single codebase to run an application on the desktop in the web, and on mobile devices
  % \item glance over the shocase sections in "integrating 3rd party" to see how scout applications integrate with other frameworks
  % \item flip though testing/profiling to convince yourself that developing scout applications is not different from developing other java/eclise applications	
% \end{itemize}

% ........................................................................... %
\subsection{I am a manager}

Beeing a manager and actually reading this book may indicate one of the following situations:

\begin{itemize}
  \item Your developer tried to convince you that Eclipse Scout can help you with implementing business applications in a shorter time and for less money.
        And you did not understand why (again) a new technology should work better than the ones you already use. 
	
\end{itemize}

% =========================================================================== %
\chapter{''Hello World'' Tutorial}
\chalabel{helloworld}

The ''Hello World'' chapter walks you through the creation of an Eclipse Scout client server application.
When the user starts the client part of this application, the client connects to the server\footnote{
The Scout server part of the ''Hello World'' application will be running on a web server.
} 
and asks for some text content that is to be displayed to the user.
Next, the server retrives the desired information and sends it back to the client.
The client then copies the content obtained from the server into a text field widget.
Finally, the client displays the message obtained from the server in a text field widget.

The goal of this chapter is to provide a first impression of working with the Scout framework using the Scout SDK.
We will start by building the application from scratch and then we'll deploy the complete application to a Tomcat web server.
Except for a single line of code in the server part of the ''Hello World'' application, we will only be using the tooling provided by the Scout SDK.

Based on this simple ''Hello World'' applications a large number of Scout concepts can be illustrated.
Rather than including this background material in this tutorial, such information is provided separately in \charef{helloworld_background}.
This tutorial is also available in the Scout wiki\footnote{
''Hello World'' wiki tutorial: \url{http://wiki.eclipse.org/Scout/Tutorial/3.9/HelloWorld}
}.

% --------------------------------------------------------------------------- %
\section{Installation and Setup}

Before you can start with the ''Hello World'' example you need to have a complete and working Scout installation.
For this, see the step-by-step installation guide provided in \appref{install_scout}.
Once you have everything installed, you are ready to create your first Scout project.

% --------------------------------------------------------------------------- %
\section{Create a new Project}
\seclabel{create_project_simple}

Start your Eclipse IDE and select an empty directory for your workspace.
This workspace directory will then hold all the project code for the ''Hello World'' application.
In the started Eclipse IDE, you can then create a new Scout project by selecting the \contextmenu{New Scout Project...} as shown in \figref{sdk_create_new_scout_project}.
Alternatively, you can also use the Eclipse \menu{File|New|Project...}.
In this case you are shown the generic \wizard{New Project} of Eclipse where you can select the \wizard{Scout Project} below the Scout folder as seen in \figref{sdk_new_project_wizard}.
With the \button{Next} you will be directed to the next dialog step, the \wizard{New Scout Project}.

\begin{figure}
\includegraphics[width=14cm]{sdk_create_new_scout_project.png}
\caption{Create a new Scout project using the Scout SDK perspective.}
\figlabel{sdk_create_new_scout_project}
\end{figure}

In the \wizard{New Scout Project} enter a name for you Scout project. 
As we are creating a ''Hello World'' application, use \java{org.eclipse.scout.helloworld} for the \field{Project Name}.
Now, click the \button{Finish} to let the Scout SDK create the initial project code for you.

\begin{figure}
\includegraphics[width=7cm]{sdk_new_project_1.png} \hspace{5mm}
\includegraphics[width=7cm]{sdk_new_project_2.png}
\caption{The new project wizard. The dialog on the left side is only shown when using the generic \wizard{New Project} of Eclipse}
\figlabel{sdk_new_project_wizard}
\end{figure}

\begin{figure}
\includegraphics[width=14cm]{sdk_initial_helloworld_project.png}
\caption{The Scout SDK showing the tree representation of our ''Hello World'' application in the Scout Explorer.
Scout Object Properties displays the product launchers for the server and the available clients.}
\figlabel{sdk_initial_helloworld_project}
\end{figure}

Once the initial project code is built, the Scout SDK displays the application model in the \textit{Scout Explorer}.
This model is visually presented as a tree structure covering both the client and the server part of the application.
In \figref{sdk_initial_helloworld_project} the Scout Explorer displays the top level elements of the complete Scout application.

% --------------------------------------------------------------------------- %
\section{Run the Initial Application}
\seclabel{run_initial}

After the initial project creation step we are ready to start the server and the clients of the still empty Scout application.
For this, we switch to the Scout Explorer and select the root node \element{org.eclipse.scout.helloworld}.
Selecting the application's \node{org.eclipse.scout.helloworld} in the Scout Explorer displays the product launchers in the \textit{Scout Object Properties}.
As we can see in \figref{start_client}, we have product launchers for four different development products.

\begin{tabular}{ l l }
  \textbf{RAP}    & The RAP server application for web and mobile clients\\
  \textbf{Swing}  & The Scout Swing desktop client application\\
  \textbf{SWT}    & The Scout SWT desktop client application\\
  \textbf{Server} & The Scout server application\\
\end{tabular}

\begin{figure}
\includegraphics[width=14cm]{sdk_start_client_product.png} 
\caption{Starting the SWT client in the Scout SDK using the provided SWT product launcher. Make sure to start the server before starting any client product.}
\figlabel{start_client}
\end{figure}

Each product launcher box provides a link to the corresponding Eclipse product file\footnote{
Product files define all the necessary elements of an application.
},
the configuration file\footnote{
The configuration file \filename{config.ini} provides parameters that are read at startup of the corresponding program.
},
as well as three launcher icons to start and stop the corresponding application.
The green \icon{Circle} starts the product in normal mode.
The \icon{Bug} just below, starts a product in debug mode.
To terminate a running product, the red \icon{Square} is provided. 
Alternatively, you can also stop products by clicking on the same red icon in the console view.
This is shown on the right hand side of \figref{start_client}.
Client products may also be stopped by closing the client's main window or using the provided \menu{File|Exit}.

Before any of the client products is started, we need to start the server product using the green circle or the bug launcher icon.
During startup of the Scout server you should see console output similar to the one shown on the right hand side of \figref{start_client}.
Once the server is running, you may start the SWT client as shown in \figref{start_client}, the Swing client, and the RAP server in the same way.
With a running RAP product, you may also dispay the Scout client in a web browser.
Just type the address \texttt{http://localhost:8082/web} into the browser's navigation bar.

\begin{figure}
\includegraphics[width=4.5cm]{hellworld_empty_swing.png} \hspace{3mm}
\includegraphics[width=4.5cm]{hellworld_empty_swt.png} \hspace{3mm}
\includegraphics[width=4.5cm]{hellworld_empty_rap.png}
\caption{Running the three client applications. 
Each client displays an empty desktop form. 
From left to right: The Swing client, the SWT client, and the web client}
\figlabel{helloworld_empty}
\end{figure}

Having started the Scout server and all client products, the client applications should become visible as shown in \figref{helloworld_empty}.

% --------------------------------------------------------------------------- %
\section{The User Interface Part}

In this section we will add a text field widget to the client's empty desktop form of the ''Hello World'' application.
In the steps described below, we use the \wizard{New Form Field} provided by the Scout SDK. 
Frist, we add a group box field to the desktop form.
Then, we apply this wizard a second time to add the actual text widget\footnote{
Adding top level group boxes to a form helps in structuring the form layout, especially when a form contains a large number of form fields.
}.

\begin{figure}
\includegraphics[width=8cm]{sdk_new_field_wizard_menu.png} 
\caption{Using the \menu{New Form Field ...} to start the form field wizard provided by the Scout SDK.}
\figlabel{new_field_context_menu}
\end{figure}

To add any widgets to the desktop form we first need to navigate to the \element{DesktopForm} in the Scout Explorer.
By clicking on the small plus icon on the left hand side of the \element{DesktopForm} this element is expanded and the \element{MainBox} element becomes visible below.
With a click of the right mouse button over the \element{MainBox}, the available context menues are displayed.
To start the form field wizard we select the \menu{New Form Field ...} as shown in \figref{new_field_context_menu}.

\begin{figure}
\includegraphics[width=7cm]{sdk_new_field_groupbox_1.png} \hspace{8mm}
\includegraphics[width=7cm]{sdk_new_field_groupbox_2.png}
\caption{Adding the \textit{DesktopBox} field with the Scout SDK form field wizard.}
\figlabel{helloworld_groupboxfield}
\end{figure}

In the first dialog of the form field wizard shown on the left side of \figref{helloworld_groupboxfield}, we choose the form field type.
To select the desired field type, we either select the desired type with the mouse or use the serach field to filter the list of available field types.
In the second wizard dialog, we do not provide a label for the group box in the \field{Name}.
As we have only a single group box in the ''Hello World'' desktop form we omit the name and enter 'Desktop' into the \field{Class Name} before we close the wizard with the \button{Finish}.
This step is shown on the right side of \figref{helloworld_groupboxfield}.
The Scout SDK will add the necessary Java code for the \java{DesktopBox} in the background.

\begin{figure}
\includegraphics[width=6cm]{sdk_new_field_stringfield_1.png} \hspace{8mm}
\includegraphics[width=7cm]{sdk_new_field_stringfield_2.png}
\caption{Adding a \textit{StringField} and providing a new translation entry.}
\figlabel{helloworld_stringfield}
\end{figure}

To add the text field widget to the group box just created, we navigate to the corresponding \element{DesktopBox} in the Scout Explorer.
For this, we click on the small plus icon on the left hand side of the \element{MainBox} to expand this node and make the \element{DesktopBox} element visible.
On \element{DesktopBox} we again use the \menu{New Form Field ...}.
In the first wizard dialog, we select \element{StringField} using 'st' as a search criteria and click the \button{Next} to open the second wizard dialog.
In the second wizard dialog, we enter 'Message' into the \field{Name}.
As we do not yet have the text 'Message' available in our ''Hello World'' application the wizard prompts the user with the proposal \textsc{New Translated Text ...}.
Selecting the provided option we can add a new text entry as shown in \figref{helloworld_stringfield}.
Once we have provided some initial translation for our message label, we can close the translation dialog with the \button{Ok}.
Finally, we close the form field wizard using the \button{Finish}.

\begin{figure}
\includegraphics[width=14cm]{sdk_helloworld_messagefield.png}
\caption{Scout SDK showing the \it{MessageField}}
\figlabel{helloworld_messagefield}
\end{figure}

By expanding the \element{DesktopBox} element in the Scout Explorer, the new message field becomes visible. 
A double click on the message field element then loads the corresponding Java code into an Editor as shown in \figref{helloworld_messagefield}.
If you are following this tutorial with your own Eclipse Scout installation compare your status with this screenhot.
Make sure that the project structure in the Scout Explorer looks as shown in \figref{helloworld_messagefield} and a double click to the \element{MessageField} both loads the corresponding Java code and displays the message field's properties in the Scout Object Properties.

Having verified your status of the ''Hello World'' application you can start the application as described in \secref{run_initial}.
The client applications will then display your message widget.
However, the text widget is still empty, as we did not yet load any initial content into it.
This is the topic of the next section where we continue the tutorial with the server part.

% --------------------------------------------------------------------------- %
\section{The Server Part}
\seclabel{helloworld.server}

The responsibility of the server part in our ''Hello World'' application is to provide an initial text content for the message field in the client's user interface.
We implement this behaviour in the \java{load} method of the server's \java{DesktopService}.
An empty stub for the \java{load} method and the \java{DesktopService} service have already been created during the initial project creation step described in \secref{create_project_simple}.
The \java{DesktopService} represents the server service corresponding to the \java{DesktopForm} on the client side.
This initial setup represents Scout's standard form processing mechanism where client forms and server services typically come in pairs.

Whenever the client's user interface displays a form to the user, the client connects to the server and calls the \java{load} method of the corresponding server service.
We can now add the business logic to the \java{load} method of the server's \java{DesktopService} to implement the desired behaviour.
And this is the last missing piece to complete the ''Hello World'' application.

\begin{figure}
\includegraphics[width=14cm]{sdk_server_desktopservice_load.png}
\caption{The Scout Explorer showing the blue server node expanded with the \folder{Services}.
In this folder the \element{load} method of \element{DesktopService} is selected and its initial implementation is shown in the editor on the right side.}
\figlabel{helloworld_load_servicemethod}
\end{figure}

To navigate to the implementation of the desktop service in the Scout SDK, we first expand the blue top-level \node{server} in the Scout Explorer.
Below the server node, we then expand the \folder{Services} which shows the \element{DesktopService} element.
Expanding this \element{DesktopService} node, the \java{load} method becomes visible as shown in \figref{helloworld_load_servicemethod}.

\begin{lstlisting}[backgroundcolor=\color{white}]
  @Override
  public DesktopFormData load(DesktopFormData formData) throws ProcessingException {
    //TODO [mzi] Auto-generated method stub.
    return formData;
  }
\end{lstlisting}
  
According to the signature of the \java{load} method, a \java{formData} object is passed into this method that is then handed back in the return statement.
To complete the implementation of the \java{load} method it is sufficient to assign the text 'hello world!' to the message field part of the form data.
The only line of Java code we write in our ''Hello World'' application is printed below.
For the complete implementation of the load method see \lstref{helloworld.load}.

\begin{lstlisting}[backgroundcolor=\color{white}]
  formData.getMessage().setValue("hello world!");
\end{lstlisting}

\lstinputlisting[
  label=\lstlabel{helloworld.load},
  caption=Assigning "hello world" to the form data's message field.,
  index={DesktopFormData,DesktopProcessService},
  linerange={10-15},
  float
]
{../code/helloworld/org.eclipse.scout.helloworld.server/src/org/eclipse/scout/helloworld/server/services/DesktopService.java}

% --------------------------------------------------------------------------- %
\section{Add the Rayo Look and Feel}

\begin{figure}
\includegraphics[width=7cm]{helloworld_message_swing_rayo.png} \hspace{5mm}
\includegraphics[width=7cm]{helloworld_message_rap_rayo.png}
\caption{The ''Hello World'' client application with the Rayo look and feel. The desktop client is shown on the left and the web client on the right hand side.}
\figlabel{helloworld_clientapp}
\end{figure}

For Eclipse Scout applications a slick look and feel called Rayo is available in the Eclipse Marketplace\footnote{
Eclipse Marketplace: \url{http://marketplace.eclipse.org/}
}.
And in this (optional) part of the ''Hello World'' tutorial we will add Rayo to our ''Hello World'' Swing client application.
As a result, we will get a Scout desktop application that looks the same as the corresponding Scout web client as shown in \figref{helloworld_clientapp}.

\begin{figure}
\includegraphics[width=6cm]{sdk_rayo_add_checkbox.png} \hspace{5mm}
\includegraphics[width=7cm]{sdk_rayo_confirm_changes.png}
\caption{Adding the Rayo Swing look and feel. The Rayo checkbox to activate the look and feel is highlighted on the left hand side. The dialog on the right hand side shows the changes in the Swing plugin that will be made by the Scout SDK.}
\figlabel{selecting_rayo}
\end{figure}

To add Rayo in the Scout SDK to our ''Hello World'' project, switch to the Scout Explorer and select the top-level \node{org.eclipse.scout.helloworld}.
Then, according to \figref{selecting_rayo}, select the checkbox \element{Rayo Swing Look and Feel for Eclipse Scout} under the \element{Technologies} section of the Scout Object Properties.
This brings up a dialog showing the proposed changes to the Swing plugin of the ''Hello World'' application. 
These changes need to be confirmed with the \button{OK}.
The first time the user adds the Rayo feature in the Scout SDK, Eclipse needs to download the package from the Eclipse Marketplace.
This download and subsequent installation of Rayo will make you to go through the following steps.

\begin{enumerate}
  \item Accept Licence: GPL with Classpath Exception
  \item Accept unsigned content
  \item Restart the Eclipse IDE
\end{enumerate}

After the successful download and installation of the Rayo package, start the Swing client using the procedure described in \secref{run_initial}.
When we also start the web client of the ''Hello World'' application using the RAP product launcher, we can compare the result side by side.

% --------------------------------------------------------------------------- %
\section{Exporting the Application}
\seclabel{helloworld_export}

We are now ready to export the finished ''Hello World'' application to two WAR files\footnote{
Web application ARchive (WAR): \url{http://en.wikipedia.org/wiki/WAR_file_format_(Sun)}
} 
using the export wizard of the Scout SDK.
These WAR files contain the complete Scout server and client applications.
To deploy the application to a web server the two WAR files are the only artefacts needed.
The first WAR file contains the Scout server including a zipped desktop client for downloading.
In the second WAR file, the RAP server application that provides both the web client and the client for mobile devices.

\begin{figure}
\includegraphics[width=8cm]{sdk_export_war_menu.png} 
\caption{Starting the \wizard{Export Scout Project} in the Scout SDK with the context menu. 
In the first wizard step, the target directory for the WAR files and the artefacts to export are specified.}
\figlabel{sdk_export_war}
\end{figure}

\begin{figure}
\includegraphics[width=10cm]{export_wizard_1.png}
\caption{The first dialog of the \wizard{Export Scout Project}. 
Here, the target directory for the WAR files that will be generated by the wizard is specified.}
\figlabel{export_wizard_1}
\end{figure}

To start the export wizard, we the Scout SDK started with the ''Hello World'' Scout project.
In the Scout Explorer we then select the corresponding \contextmenu{Export Scout Project...} on the ''Hello World'' top level application node as shown in \figref{sdk_export_war}.
In the first wizard dialog shown in \figref{export_wizard_1}, the target directory for the WAR files needs to be specified.
You may choose any directory as the target directory\footnote{
Make sure to remember the location of this directory.
We will need the directory location again when we deploy these WAR files to the Tomcat web server.
}.
After clicking \button{Next} the second wizard step proposes the server product file that specifies the artefacts to be exported including the file name for the WAR file for the ''Hello World'' server application.
Typically, the proposed default values are fine.
Move to the third dialog with \button{Next}.

\begin{figure}
\includegraphics[width=13cm]{export_wizard_3.png}
\caption{The third dialog of the \wizard{Export Scout Project} defines the client application to be included in the \texttt{helloworld\_server.war} file.
In the last step of the export wizard the RAP sever is exported to the specified file name (right).}
\figlabel{export_wizard_3}
\end{figure}

In the third dialog of the \wizard{Export Scout Project} the desktop client to be included in the WAR file needs to be specified.
The default selection is set to the SWT client application.
For the ''Hello World'' example, we want to include the Swing client application with the Rayo Look and Feel.
For this, we need to change the selected product to \element{helloworld-swing-client.product (production)} according to \figref{export_wizard_3}.
With \button{Next} we move to the last wizard step.

\begin{figure}
\includegraphics[width=8cm]{export_wizard_4.png}
\caption{The last dialog of the \wizard{Export Scout Project} defines the export of the RAP server.
Normally, the proposed field values do not need any adjustments.}
\figlabel{export_wizard_4}
\end{figure}

In the last wizard dialog shown in \figref{export_wizard_4}, the RAP server product and the corresponding WAR file name are specified.
Normally, the proposed field values are fine and we can close the wizard with \button{Finish}.
After this last step, the Scout SDK is assembling the necessary artefacts and building the two ''Hello World'' WAR files.
These two WAR files are the only items needed for deploying the ''Hello World'' application to a web server

% --------------------------------------------------------------------------- %
\section{Deploying to Tomcat}
\seclabel{helloworld_deploy}

As the final step of this tutorial, we deploy the two WAR files representing our ''Hello World'' application to a Tomcat web server.
For this, we frist need a working Tomcat installation.
If you do not yet have such an installation you may want to read and follow the instructions provided in \appref{install_tomcat}.
To verify a running Tomcat instance, type \url{http://localhost:8080/} into the address bar of the web browser of your choice.
You should then see the page shown in \figref{deploy_tomcat_1}.

\begin{figure}
\includegraphics[width=14cm]{tomcat_managerapp_login.png} 
\caption{The Tomcat shown after a successful installation. 
After clicking on the ''Manager App'' button (highlighted in red) the login box is shown in front.
A successful login shows the ''Tomcat Web Application Manager''.}
\figlabel{deploy_tomcat_1}
\end{figure}

\begin{figure}
\includegraphics[width=14cm]{tomcat_managerapp_selectwar.png}
\caption{The ''Tomcat Web Application Manager''.
The WAR files to be deployed can then be selected using button ''Choose File'' highlighted in red.}
\figlabel{deploy_tomcat_2}
\end{figure}

Once the web browser displays the successful running of your Tomcat instance, switch to its ''Manager App'' by clicking on the button highlighted in \figref{deploy_tomcat_1}.
After entering user name and password the browser will display the ''Tomcat Web Application Manager'' as shown in \figref{deploy_tomcat_2}.
If you don't know the correct username or password you may look it up in the file \filename{tomcat-users.xml}.
This file is located in subdirectory \filename{conf} of your Tomcat installation\footnote{
See \appref{tomcat_dirs_and_files} for an overview of the organisation of a Tomcat installation and example content for a \filename{tomcat-users.xml} file.
}.

After logging successfully into Tomcats manager application, you can select the WAR file(s) to be deployed using button ''Choose File'' according to the right hand side of \figref{deploy_tomcat_2}.
After picking your \filename{helloworld_server.war} and \filename{helloworld.war} file and closing the file chooser, click on button ''Deploy'' (located below button ''Choose File'') to deploy the application to the Tomcat web server.
This will copy the selected WAR file into Tomcats \filename{webapps} directory and unpack its content into a subdirectory with the same name.
Deploying the file \filename{helloworld.war} will extract its contents into a subdirectory named \filename{helloworld} as shown in \figref{tomcat.install.dir}.
Accordingly, the file \filename{helloworld_server.war} will be extracted into subdirectory \filename{helloworld_server}.
You can now connect to the deployed application using the browser of your choice and enter the following address.

\begin{lstlisting}
  http://localhost:8080/helloworld_server/
\end{lstlisting}

\begin{figure}
\includegraphics[width=12cm]{tomcat_helloworld_download.png}
\caption{The ''Hello World'' home page, providing a link to download the desktop client.}
\figlabel{helloworld_running_download}
\end{figure}

You will then see the home page of the server of your ''Hello World'' application shown in \figref{helloworld_running_download}.
From here you can download the zipped client application that can be saved in a directory of your choice.
After unpacking the zip file, you may start the executable file named \filename{helloworld}.
This will start the ''Hello World'' client application as shown on the left hand side of \figref{helloworld_running_clients}.
To start the ''Hello World'' web application, open a browser and enter the following address.

\begin{lstlisting}
  http://localhost:8080/helloworld/
\end{lstlisting}

\begin{figure}
\includegraphics[height=2.5cm]{helloworld_finished_rayo_swing.png}\hspace{5mm}
\includegraphics[height=2.5cm]{helloworld_finished_rayo_rap.png}\hspace{5mm}
\includegraphics[height=2.5cm]{helloworld_finished_rayo_rap_mobile.png}
\caption{The ''Hello World'' client application running on the desktop, in the browser and on a mobile device.}
\figlabel{helloworld_running_clients}
\end{figure}

Depending on the device your browser is running on you will be redirected to \texttt{helloworld/web} on a desktop or laptop computer, to \texttt{helloworld/mobile} on a mobile device or to \texttt{helloworld/mobile} if you are connecting from a tablet device.
\figref{helloworld_running_clients} shows screenshots for a desktop client, the web application and the same application in a mobile browser.
As demonstrated in these screenshots \texttt{helloworld/web} and \texttt{helloworld/mobile} lead to a different presentation of the same UI optimized to the target form factors of desktop browsers, tablets, and mobile phones.

% =========================================================================== %
\chapter{''Hello World'' Background}
\chalabel{helloworld_background}

The previous ''Hello World'' tutorial has been designed to cover the creation of a complete client server application in a minimal amount of time.
In this chapter, we will take a deeper look at the ''Hello World'' and provide background information along the way.
The goal is to explain many of the used concepts in the context of a concrete Scout application to allow for a well rounded first impression of the Eclipse Scout framework and the tooling provided by the Scout SDK.

The structure of this chapter is closely related to the ''Hello World'' tutorial.
As you will notice, the order of the material presented here exactely follows the previous tutorial and identical section titles are used where applicable.
In addition to \charef{helloworld}, we include \secref{initial_helloworld} to discuss the initial application generated by the Scout SDK.

% --------------------------------------------------------------------------- %
\section{Create a new Project}
\seclabel{create_project_simple_background}

The first thing you need for the creation of a new Scout project is to select a new workspace.
For Eclipse, a workspace is a directory where Eclipse can store a set of projects in a single place.
As Scout projects typically consist of several Eclipse plugin projects the default (and recommended) setting is to use a single workspace for a single Scout project.

\begin{figure}
\includegraphics[width=7cm]{sdk_package_explorer.png} \hspace{0.5cm}
\includegraphics[width=7cm]{sdk_scout_explorer.png}
\caption{The Eclipse plugin projects of the ''Hello World'' application shown by the Package Explorer in the Scout SDK on the left hand side. 
The corresponding view in the Scout Explorer is provided on the right hand side.
}
\figlabel{package_explorer}
\end{figure}

In the case of the ''Hello World'' application, the workspace contains seven plugin projects as shown on the left side of \figref{package_explorer}.
In the expanded source folder of the client plugin \element{org.eclipse.scout.helloworld.client} the organisation of the Java packages is revealed.
The Scout Explorer provided on the right side of \figref{package_explorer} shows three colored top level nodes below the main project \element{org.eclipse.scout.helloworld}.

In the Scout Explorer, the main project node expands to the orange client node \element{org.eclipse.scout.helloworld.client}, the green shared node \element{org.eclipse.scout.helloworld.client} and the blue server node \element{org.eclipse.scout.helloworld.server}.
The client node first presents the white user interface (UI) nodes \element{org.eclipse.scout.helloworld.client.ui.*} indicating the supported UI technologies.
Next, the client mobile node \element{org.eclipse.scout.helloworld.client.mobile} is shown.
It is responsible for adapting the layout of the user interface suitably for mobile and tablet devices.
Finally, after the \node{ClientSession} and the \node{Desktop}, component specific folders allow for a simple navigation to the various client parts.

Comparing the Package Explorer with the Scout Explorer a couple of aspects are notable.
First, the number and names of the Eclipse plugin projects is identical in both the Package Explorer and the Scout Explorer view.
However, the Scout Explorer recognizes the Scout project structure and explicitly renders the relation between the different Eclipse plugins.
In addition, individual node colors are used to indicate the role of each plugin project.
Second, the focus of the Scout Explorer lies on the business functionality of the complete client server application.
Artefacts only necessary to the underlying Eclipse platform are not even accessable.
Third, on the individual elements rendered in the Scout Explorer, the Scout SDK provides menues to start wizards useful to the selected context.
In the case of the ''Hello World'' tutorial we could create the complete application (except for a single line of Java code) using these wizards .

When we revisit the \wizard{New Scout Project} in \figref{sdk_new_project_wizard}, it now becomes trivial to explain how the \field{Project Name} \java{org.eclipse.scout.helloworld} was used as the common prefix for plugin project names and Java package names.
Based on the project name, the last part \java{helloworld} was used for the \field{Project Alias}.
As we have seen in \secref{helloworld_export}, this project alias is used by the Scout SDK to build the base names of the WAR files in the export step.
In turn, after deploying the WAR files as described in \secref{helloworld_deploy}, the RAP server application becomes available under the URL \java{http://localhost:8080/helloworld}.
Should you have a catchy naming for you application in mind, \java{com.mycompany.mycatchyname} is therefore a good choice for the \field{Project Name}.

% --------------------------------------------------------------------------- %
\section{Run the Initial Application}
\seclabel{run_initial_background}

To run a Scout application the Scout SDK provides launcher boxes in the Scout Object Properties as described in \secref{run_initial}.
These object properties are associated to the top level product node in the Scout Explorer.
Using the \icon{Edit} provided in the product launcher section of the Scout Object Properties, the list of launcher boxes can be specified as shown in \figref{select_product_launchers}.

\begin{figure}
\includegraphics[height=6.5cm]{sdk_edit_product_launcher.png} \hspace{0.5cm}
\includegraphics[height=6.5cm]{sdk_select_product_launcher.png}
\caption{Using the \icon{Edit Content...} shown on the left hand side, the product selection dialog shown on the right side is opened.
Using this product selection dialog, the list of launcher boxes can be specified.
}
\figlabel{select_product_launchers}
\end{figure}

The available products shown on the right side of \figref{select_product_launchers} represent the Eclipse product files created in the initial project creation step.
Product files are used in Eclipse to specify the configuration and content of an executable application.
As we can see in the case of the ''Hello World'', four executable applications have been created by the Scout SDK, and each application contains two Eclipse product files.
The four applications, one for the server application and one for each client technology, have already been discussed in \secref{run_initial}.

\begin{figure}
\includegraphics[height=10cm]{sdk_server_node_properties.png} \hspace{0.5cm}
\includegraphics[height=10cm]{sdk_server_plugin_explorer.png}
\caption{The production and development launcher boxes associated with the ''Hello World'' server application are shown on the left side. 
In the Package Explorer shown on the right side, the production and development products are located under the \folder{products} in the server plugin project.
}
\figlabel{server_plugin}
\end{figure}

Based on the assumption that we want to run the Scout application in different environments we need to have a separate product file for each target environment.
Even in the case of the simple ''Hello World'' example, the Scout application is started both within the Scout SDK and also run on a Tomcat web server.
The development product files describe the content and configuration of the applications applicable in the contex of the Scout SDK.
To export and run the Scout application outside of the Scout SDK, the production product files are used.
\figref{server_plugin} illustrates this situation for the ''Hello World'' server application. 
On the left side, the blue server node is selected in the Scout Explorer.
This opens the two server launcher boxes for the production and the development environment.
On the right side of \figref{server_plugin}, the corresponding plugin project \element{org.eclipse.scout.helloworld.server} is expanded to show the file based organisation of the product definition.

\begin{figure}
\includegraphics[width=14cm]{sdk_server_dev_product.png} 
\caption{The Eclipse product file editor showing file \filename{helloworld-server-dev.product} of the ''Hello World'' application.
In the Dependencies tab shown above, the list of Eclipse plugins that are required for the server application are shown.
}
\figlabel{server_dev_product}
\end{figure}

some sentences about the product file. some sentences about the product file. some sentences about the product file. some sentences about the product file. 
scout helloworld server plugin
scout helloworld shared plugin
scout framework plugins
jetty plugins

\begin{figure}
\includegraphics[width=14cm]{sdk_server_dev_configini.png} 
\caption{The Eclipse \filename{config.ini} file of the ''Hello World'' server application. 
This configuration file specifies the startup paraemters for launching the server application from within the Scout SDK.
}
\figlabel{server_dev_ini}
\end{figure}

some sentences about the config.ini file. some sentences about the config.ini file. some sentences about the config.ini file. some sentences about the config.ini file. 
More on config.ini
\url{http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Feditors%2Fproduct_editor%2Fconfiguration.htm}


More on Swing, SWT, RAP and AJAX
SWT\footnote{Standard Widget Toolkit (SWT): \url{http://en.wikipedia.org/wiki/Standard_Widget_Toolkit}.} 
boxes represent rich clients\footnote{Rich client: \url{http://en.wikipedia.org/wiki/Fat_client}} 

RAP\footnote{Remote Application Platform (RAP): \url{http://www.eclipse.org/rap/}} is a framework that allows to use Java for server-side 
Ajax\footnote{Asynchronous JavaScript and XML (AJAX): \url{http://en.wikipedia.org/wiki/Ajax_\%28programming\%29}}.


% --------------------------------------------------------------------------- %
\section{Walking through the Initial Application}
\seclabel{initial_helloworld}

In this section, we walk you through the central pieces of the generated initial application. 
This exercise will introduce you to important elements of the Scout application model.
A basic understanding of these model elements will help you understand the structure and working of the ''Hello World'' application.

\begin{itemize}
  \item Desktop
  \item Form
  \item Form handler
  \item Process service
  \item MainBox
  \item Form data
  \item Form field
\end{itemize}

Each of the above elements is represented by a Java class in Scout.
This allows us to explain the basic concept using our ''Hello World'' source code.
Please note, that all this Java code has been added in the project creation step by the Scout SDK described in \secref{create_project_simple}.
This implies that you are free to adapt/change this code according to your needs.

\subsection{Desktop}

The desktop is the central container of all visible elements of the Scout client application.
It inherits from Scout class \java{AbstractDesktop} and represents the empty application frame with attached elements, such as the applications menu tree.
In the ''Hello World'' application, it is the Desktop that is first opened when the user starts the client application.

To find the desktop class in the Scout Explorer, we first navigate to the orange \node{client} and double click the \node{Desktop} just below.
This will open the associated Java file \texttt{Desktop.java} in the editor view of the Scout SDK.
Of interest is the overwritten callback method \java{execOpend} shown in \lstref{helloworld.execopend}.

\lstinputlisting[
  label=\lstlabel{helloworld.execopend},
  caption=Creating and starting a form in the client's Desktop callback method \java{execOpened}.,
  index={DesktopForm},
  linerange={42-47},
  float
]
{../code/helloworld/org.eclipse.scout.helloworld.client/src/org/eclipse/scout/helloworld/client/ui/desktop/Desktop.java}

Method \java{execOpend} is called by the Scout framework after the desktop frame becomes visible.
The only thing that happens here is the creation of a \java{desktopForm} object, that gets assigned an icon before it is started via method \java{startView}.
This desktop form object is will later hold the text widget that is to be displayed to the user\footnote{
In the Scout application model we can only add UI fields to Scout form elements, not directly to the desktop.
}.
More information regarding form elements are provided in the next section.

\subsection{Form}
\seclabel{helloworld.form}

Scout forms are UI containers that hold form field widgets.
A Scout form always inherits from Scout class \java{AbstractForm} and can either be displayed as a dialog in its own window or shown as a view inside of another UI container.
In the ''Hello World'' application a \java{DesktopForm} object is created and displayed as a view inside of the desktop element.

To find the desktop form class in the Scout Explorer, expand the orange \node{client}\footnote{
To expand elements (nodes, folders, etc.) in the Scout Explorer, use a double click on the element or a single click on the plus icon in front of the element.}.
Below this node, you will find the \folder{Forms}. 
Expand this folder to show the \element{DesktopForm} as shown in \figref{helloworld_viewhandler}.
In the Scout Object Property window in the screenshot, we can also see the \property{Display Hint}.
Its value is set to 'View' to display the desktop form as a view and not as a dialog in its own frame.

\begin{figure}
\includegraphics[width=15cm]{sdk_helloworld_viewhandler.png}
\caption{Scout SDK showing the DesktopForm's \textit{ViewHandler} in the Scout Explorer and the form properties in the Scout Object Properties.}
\figlabel{helloworld_viewhandler}
\end{figure}

Expand the \element{DesktopForm} to show its children: \element{Variables}, \element{MainBox} and \element{Handlers}.
The \element{Variables} subfolder contains variables. They are invisible to the application user.
The ''Hello World'' application is so simple, it does not need variables.
The subfolder \element{MainBox} contains form fields. These are the visible user interface elements.
Currently, the main box of our \java{DesktopForm} is empty. We will change this later.
Finally, the \element{Handlers} subfolder contains all available form handlers.
As shown in \figref{helloworld_viewhandler}, we already have a view handler available for our desktop form.

\subsection{Form Handler}
\seclabel{helloworld.formhandler}

Form handlers are used to manage the form's life cycle.
Scout form handlers inherit from \java{AbstractFormHandler} and allow the implementation of desired behaviour before a form is opend, or after it is closed.
This is achieved by overwriting callback methods defined in \java{AbstractFormHandler}.
The necessary wiring is provided by the Scout framework, either by the initial project creation step or when using one of the provided Scout SDK wizards.

\lstinputlisting[
  label=\lstlabel{helloworld.viewhandler},
  caption=Class \java{DesktopForm} with its view handler and \java{startView} method.,
  index={ViewHandler},
  emph={load},
  linerange={20-21,74-91},
  float
]
{../code/helloworld/org.eclipse.scout.helloworld.client/src/org/eclipse/scout/helloworld/client/ui/forms/DesktopForm.java}

In the ''Hello World'' application, it is the overwritten \java{execLoad} method in the \java{ViewHandler} (see \lstref{helloworld.viewhandler}) that defines what will happen before the desktop form is shown to the user.
This is the place where most of the behaviour relevant to the ''Hello World'' application is implemented.
Roughly, this implementation is performing the following steps.

\begin{enumerate}
  \item Get a reference to the process service running on the server.
  \item Create a data transfer object (DTO)\footnote{
Data Transfer Object (DTO): \url{http://en.wikipedia.org/wiki/Data_transfer_object}.}
  \item Pass the empty DTO to the load service method (ask the server for some data).
  \item Update the DTO with the content provided by the service method (use the answer provided by the server).
  \item Copy the updated information from the DTO into the desired form field.
\end{enumerate}

To open the \java{ViewHandler} class in the Java editor of the Scout SDK, double click on the \element{ViewHandler} in the Scout Explorer.
Your Scout SDK should then be in a state similar to \figref{helloworld_viewhandler}.
In the lower part of \lstref{helloworld.viewhandler} we can see the wiring between the desktop form and the view handler in method \java{startView}.
Further up, we find method \java{execLoad} of the view handler class.

Before we discuss this method's implementation, let us examine when and how \java{execLoad} is actually called.
As we have seen in the \java{Desktop} class (see \lstref{helloworld.execopend}), the form's method \java{startView} is executed after the desktop form is created.
Inside method \java{startView} (see \lstref{helloworld.viewhandler}), the desktop form is started/opened using \java{startInternal}.
In method \java{startInternal} a view handler is then created and passed as a parameter.
This eventually leads to the call of our \java{execLoad} custom implementation.

We are now ready to dive into the implementation of method \java{execLoad} of the desktop form's view handler.
First, a reference to a process service identified by \java{IDesktopProcessService} is obtained using \java{SERVICES.getService}.
Then, a form data object (the DTO) is created and all current form field values are exported into the form data via method \java{exportFormData}.
Strictly speaking, the \java{exportFormData} is not necessary for the use case of the ''Hello World'' application.
But, as this is generated code, there is no benefit when we manually delete the \java{exportFormData} command.
Next, using the \java{load} service method highlighted in \lstref{helloworld.viewhandler}, new form field values are obtained from the server and assigned to the form data object.
Finally, these new values are imported from the form data into the form via the \java{importFormData} method.
Once the desktop form is ready, showing it to the user is handled by the framework.

To add clarity and background to the implementation of the \java{execLoad} above, the next section introduces services and form data objects. 

\subsection{Process Services and Form Data Objects}

Process services and form data objects are used in the Scout framework to exchange information between client and server of a Scout application.
When needed, a service implemented on the server side can register a corresponding proxy service on the client.
This proxy service is invoked by the client as if it were implemented locally.
In fact, when we get a service reference using \java{SERVICES.getService}, we do not need to know if this service runs locally on the client or remotely on the server.

In the ''Hello World'' example application, the client's desktop form has an associated desktop process service running on the server.
This correspondence between forms and process services is also reflected in the \element{Links} section of the Scout Object Properties of the desktop form.
As shown in \figref{helloworld_viewhandler}, links are provided not only for the desktop form, but for its desktop form data, the corresponding desktop process service as well as for the process service interface \java{IDesktopProcessService}. 
On the client, this interface is used to identify and register the proxy service for the desktop process service.

To transfer data between the client and the server, the ''Hello World'' application uses a \java{DesktopFormData} object as a DTO.
This form data object holds all form variables and values for all the form fields contained in the form.
Taking advantage of this correspondence, the Scout framework provides the convenience methods \java{exportFormData} and \java{importFormData}.
As a result, the developer does not need to deal with any mapping code between the form data object and the form fields.

The actual implementation of the desktop process service in class \java{DesktopProcessService} is implemented on the server side.
As the class \java{DesktopProcessService} represents an ordinary Scout service it inherits from \java{AbstractService}.
It also implements its corresponding \java{IDesktopProcessService} interface used for registering both the actual service as well as the proxy service.

In \secref{helloworld.server} we will learn more about the desktop process service.

% --------------------------------------------------------------------------- %
\section{The User Interface Part}
\seclabel{helloworld.userinterface.background}

More on Scout NLS:
This Scout SDK mechanism helps the developer to maintain the text keys separately from the actual text entries shown to the user that should never go directly into the applications source code and might get translated into different languages.


\lstinputlisting[
  label=\lstlabel{helloworld.mainbox},
  caption=The \java{MainBox} class with its desktop box and message field,
  index={MainBox},
  linerange={58-74},
  float
]
{../code/helloworld/org.eclipse.scout.helloworld.client/src/org/eclipse/scout/helloworld/client/ui/forms/DesktopForm.java}


When we drill down to the newly created message field in the Scout Explorer the Scout SDK should look similar to \figref{helloworld_messagefield}.
As shown in \lstref{helloworld.mainbox}, the message field and the desktop box field added with the \wizard{New Form Field} have been implemented as a structure of inner classes by the Scout SDK.
Using nested Java classes to model the form's content is a central aspect of the UI part of the Scout application model.
Among other benefits, it allows the Scout SDK to easily parse the form's Java code on the fly and directly reflect changes in the Scout Explorer and the Scout Property View.

Deriving the form model directly from the nested structure of inner classes also supports another important feature of the Scout SDK:
it keeps the form data classes in sync with the forms of the application.
This includes adding all the necessary getter and setter methods to access the values of all the fields defined on a form.
As a result, Scout developers don't need to update the form data objects after a form is changed.
The SDK takes care of this time consuming and error prone task.

% --------------------------------------------------------------------------- %
\section{The Server Part}
\seclabel{helloworld.server.background}

View handler stuff: 

Even though this particular method looks simple and innocent, these process service methods are where the bulk of your server side code will end up.
This is the place where information obtained from databases, webservices (or completely different sources) is mapped to the UI elements presented to the user.
This is the place where information provided by the user is sent to webservices, saved in a database or processed in some way.

% --------------------------------------------------------------------------- %
\section{Add the Rayo Look and Feel}
\seclabel{helloworld.rayo.background}


Rayo has orignially been designed in 2009 by BSI for the desktop clients of its CRM\footnote{
CRM: Customer Relationship Management} 
and its contact center solutions.
Desktop and web application working with the same Rayo look and feel
On the deskop some synth classes needed to be adjusted. for this openjdk implementation was used. 
as a result, open sourcing of the adjusted synth clases under gpl with classpath exception was required
as this licence is not compatible with hosting the code at eclipse org, rayo is located on the eclipse marketplace.
with the classpath exception part of the licence, commercial usage of rayo is explicitly possible.
the only restriction beeing that modifications to the rayo package will have to be published under the same licence.

At the core of the Rayo Look and Feel lies Java Synth\footnote{
Java Synth Look and Feel: \url{http://en.wikipedia.org/wiki/Synth_Look_and_Feel}
}.
bla

% --------------------------------------------------------------------------- %
\section{Exporting the Application}
\seclabel{helloworld.export.background}

More on WAR files


% --------------------------------------------------------------------------- %
\section{Deploying to Tomcat}
\seclabel{helloworld.tomcat.background}

More on Tomcat, directory structure etc.


A rough overview of the organisation of the Tomcat installation directory is provided in \figref{tomcat.install.dir}.

\begin{figure}
{\tiny
\begin{verbatim}
  [Tomcat installation directory]
   |
   +-- bin
   |   +-- ... startup, shutdown, ...
   |
   +-- logs
   |   +-- ... tomcat log files
   |
   +-- conf
   |   +-- server.xml 
   |   +-- tomcat-users.xml
   |   +-- ...
   |
   +-- webapps
       +-- helloworld_server
       |   +-- WEB-INF
       |       +-- eclipse
       |       |   +-- configuration
       |       |   |   +-- config.ini
       |       |   +-- plugins
       |       |   |   +-- ... web application plugins
       |       +-- lib
       |       |   +-- servletbridge.jar
       |       +-- web.xml
       |
       +-- helloworld_server.war
\end{verbatim}
}
\caption{The organization of the Tomcat installation directory. As an example, the ''Hello World'' server application is contained in subdirectory \texttt{webapps}. }
\figlabel{tomcat.install.dir}
\end{figure}

Note that you will need to restart your Tomcat application after adapting the content of file \filename{tomcat-users.xml} to update passwords or add users.

\begin{lstlisting}[
  language=xml,
  float,
  label=\lstlabel{tomcat.users},
  caption=Example content for a \texttt{tomcat-users.xml} file]
  <tomcat-users>
    <!--
    NOTE: By default, no user is included in the "manager-gui" role required
    to operate the "/manager/html" web application. If you wish to use it
    you must define such a user - the username and password are arbitrary.
    -->
	<user name="admin" password="s3cret" roles="manager-gui"/>
  </tomcat-users>	
\end{lstlisting}

% --------------------------------------------------------------------------- %

\ifx\wholebook\relax\else
   \input{../bibliography}
   \end{document}
\fi

% =========================================================================== %
